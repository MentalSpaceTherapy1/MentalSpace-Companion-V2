__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){'default'===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})});var n=r(d[1]);Object.keys(n).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var c=r(d[2]);Object.keys(c).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var o=r(d[3]);Object.keys(o).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var u=r(d[4]);Object.keys(u).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var f=r(d[5]);Object.keys(f).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})});var l=r(d[6]);Object.keys(l).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var b=r(d[7]);Object.keys(b).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})});var p=r(d[8]);Object.keys(p).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var y=r(d[9]);Object.keys(y).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})});var O=r(d[10]);Object.keys(O).forEach(function(t){'default'===t||Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return O[t]}})})},1318,[1319,1328,1330,1321,1326,1329,1324,1320,1332,1327,1333]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var o=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"AuthRequest",{enumerable:!0,get:function(){return y}});var t,s=e(r(_d[0])),o=r(_d[1]),n=(t=o)&&t.__esModule?t:{default:t};r(_d[2]);var c=r(_d[3]),l=r(_d[4]),h=e(r(_d[5])),u=e(r(_d[6])),d=r(_d[7]);let p=!1;class y{url=null;constructor(e){this.responseType=e.responseType??c.ResponseType.Code,this.clientId=e.clientId,this.redirectUri=e.redirectUri,this.scopes=e.scopes,this.clientSecret=e.clientSecret,this.prompt=e.prompt,this.state=e.state??h.generateRandom(10),this.extraParams=e.extraParams??{},this.codeChallengeMethod=e.codeChallengeMethod??c.CodeChallengeMethod.S256,this.usePKCE=e.usePKCE??!0,(0,n.default)(this.codeChallengeMethod!==c.CodeChallengeMethod.Plain,"`AuthRequest` does not support `CodeChallengeMethod.Plain` as it's not secure."),(0,n.default)(this.redirectUri,"`AuthRequest` requires a valid `redirectUri`. Ex: https://yourwebsite.com/")}async getAuthRequestConfigAsync(){return this.usePKCE&&await this.ensureCodeIsSetupAsync(),{responseType:this.responseType,clientId:this.clientId,redirectUri:this.redirectUri,scopes:this.scopes,clientSecret:this.clientSecret,codeChallenge:this.codeChallenge,codeChallengeMethod:this.codeChallengeMethod,prompt:this.prompt,state:this.state,extraParams:this.extraParams,usePKCE:this.usePKCE}}async promptAsync(e,{url:t,...o}={}){if(!t){if(!this.url)return this.promptAsync(e,{...o,url:await this.makeAuthUrlAsync(e)});t=this.url}(0,n.default)(t,'No authUrl provided to AuthSession.startAsync. An authUrl is required -- it points to the page where the user will be able to sign in.');const c=t,l=this.redirectUri;if(p)return{type:'locked'};let h;p=!0;try{h=await s.openAuthSessionAsync(c,l,o)}finally{p=!1}if('opened'===h.type)throw new Error('An unexpected error occurred');return'success'!==h.type?{type:h.type}:this.parseReturnUrl(h.url)}parseReturnUrl(e){const{params:t,errorCode:s}=u.getQueryParams(e),{state:o,error:n=s}=t;let c=null,h=null;return o!==this.state?c=new l.AuthError({error:'state_mismatch',error_description:'Cross-Site request verification failed. Cached state and returned state do not match.'}):n&&(c=new l.AuthError({error:n,...t})),t.access_token&&(h=d.TokenResponse.fromQueryParams(t)),{type:c?'error':'success',error:c,url:e,params:t,authentication:h,errorCode:s}}async makeAuthUrlAsync(e){const t=await this.getAuthRequestConfigAsync();if(!t.state)throw new Error('Cannot make request URL without a valid `state` loaded');const s={};t.codeChallenge&&(s.code_challenge=t.codeChallenge);for(const e in t.extraParams)e in t.extraParams&&(s[e]=t.extraParams[e]);return t.usePKCE&&t.codeChallengeMethod&&(s.code_challenge_method=t.codeChallengeMethod),t.clientSecret&&(s.client_secret=t.clientSecret),t.prompt&&(s.prompt='string'==typeof t.prompt?t.prompt:t.prompt.join(' ')),s.redirect_uri=t.redirectUri,s.client_id=t.clientId,s.response_type=t.responseType,s.state=t.state,t.scopes?.length&&(s.scope=t.scopes.join(' ')),this.url=`${e.authorizationEndpoint}?${new URLSearchParams(s)}`,this.url}async ensureCodeIsSetupAsync(){if(this.codeVerifier)return;const{codeVerifier:e,codeChallenge:t}=await h.buildCodeAsync();this.codeVerifier=e,this.codeChallenge=t}}},1319,[1312,2290,741,1320,1321,1322,1323,1324]);
__d(function(g,r,i,a,m,e,d){"use strict";var n,t,o;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"CodeChallengeMethod",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"ResponseType",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"Prompt",{enumerable:!0,get:function(){return o}}),(function(n){n.S256="S256",n.Plain="plain"})(n||(n={})),(function(n){n.Code="code",n.Token="token",n.IdToken="id_token"})(t||(t={})),(function(n){n.None="none",n.Login="login",n.Consent="consent",n.SelectAccount="select_account"})(o||(o={}))},1320,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return o}}),Object.defineProperty(e,"AuthError",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,"TokenError",{enumerable:!0,get:function(){return u}});var t=r(d[0]);const n={auth:{invalid_request:"The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed.",unauthorized_client:"The client is not authorized to request an authorization code using this method.",access_denied:"The resource owner or authorization server denied the request.",unsupported_response_type:"The authorization server does not support obtaining an authorization code using this method.",invalid_scope:'The requested scope is invalid, unknown, or malformed.',server_error:'The authorization server encountered an unexpected condition that prevented it from fulfilling the request. (This error code is needed because a 500 Internal Server Error HTTP status code cannot be returned to the client via an HTTP redirect.)',temporarily_unavailable:'The authorization server is currently unable to handle the request due to a temporary overloading or maintenance of the server.  (This error code is needed because a 503 Service Unavailable HTTP status code cannot be returned to the client via an HTTP redirect.)',interaction_required:'Auth server requires user interaction of some form to proceed. This error may be returned when the prompt parameter value in the auth request is none, but the auth request cannot be completed without displaying a user interface for user interaction.',login_required:'Auth server requires user authentication. This error may be returned when the prompt parameter value in the auth request is none, but the auth request cannot be completed without displaying a user interface for user authentication.',account_selection_required:'User is required to select a session at the auth server. The user may be authenticated at the auth server with different associated accounts, but the user did not select a session. This error may be returned when the prompt parameter value in the auth request is `none`, but the auth request cannot be completed without displaying a user interface to prompt for a session to use.',consent_required:'Auth server requires user consent. This error may be returned when the prompt parameter value in the auth request is none, but the auth request cannot be completed without displaying a user interface for user consent.',invalid_request_uri:'The `request_uri` in the auth request returns an error or contains invalid data.',invalid_request_object:'The request parameter contains an invalid request object.',request_not_supported:'The OP does not support use of the `request` parameter defined in Section 6. (https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests)',request_uri_not_supported:'The OP does not support use of the `request_uri` parameter defined in Section 6. (https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests)',registration_not_supported:'The OP does not support use of the `registration` parameter defined in Section 7.2.1. (https://openid.net/specs/openid-connect-core-1_0.html#RegistrationParameter)'},token:{invalid_request:"The request is missing a required parameter, includes an unsupported parameter value (other than grant type), repeats a parameter, includes multiple credentials, utilizes more than one mechanism for authenticating the client, or is otherwise malformed.",invalid_client:"Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method).  The authorization server MAY return an HTTP 401 (Unauthorized) status code to indicate which HTTP authentication schemes are supported.  If the client attempted to authenticate via the \"Authorization\" request header field, the authorization server MUST respond with an HTTP 401 (Unauthorized) status code and include the \"WWW-Authenticate\" response header field matching the authentication scheme used by the client.",invalid_grant:"The provided authorization grant (e.g., authorization code, resource owner credentials) or refresh token is invalid, expired, revoked, does not match the redirection URI used in the authorization request, or was issued to another client.",unauthorized_client:"The authenticated client is not authorized to use this authorization grant type.",unsupported_grant_type:"The authorization grant type is not supported by the authorization server."}};class o extends t.CodedError{constructor(t,o){const{error:s,error_description:u,error_uri:h}=t,c=n[o][s];let p;p=c?c+(u?`\nMore info: ${u}`:''):u||'An unknown error occurred',super(s,p),this.description=u??c,this.uri=h,this.params=t}}class s extends o{constructor(t){super(t,'auth'),this.state=t.state}}class u extends o{constructor(t){super(t,'token')}}},1321,[223]);
__d(function(g,r,_i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.generateRandom=s,_e.deriveChallengeAsync=l,_e.buildCodeAsync=async function(e=128){const n=s(e),t=await l(n);return{codeVerifier:n,codeChallenge:t}},_e.generateHexStringAsync=async function(e){const t=s(e);return u(await n.digestStringAsync(n.CryptoDigestAlgorithm.SHA256,t,{encoding:n.CryptoEncoding.HEX}))};var e,n=(function(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n})(r(_d[0])),t=r(_d[1]),o=(e=t)&&e.__esModule?e:{default:e};const c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';function i(e){const n=[];for(let t=0;t<e.byteLength;t+=1){const o=e[t]%c.length;n.push(c[o])}return n.join('')}function u(e){return e.replace(/\+/g,'-').replace(/\//g,'_').replace(/=/g,'')}function s(e){return i(n.getRandomValues(new Uint8Array(e)))}async function l(e){(0,o.default)(e.length>42&&e.length<129,'Invalid code length for PKCE.');return u(await n.digestStringAsync(n.CryptoDigestAlgorithm.SHA256,e,{encoding:n.CryptoEncoding.BASE64}))}},1322,[1308,2290]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.getQueryParams=function(s){const t=new URL(s,'https://phony.example'),o=t.searchParams.get('errorCode');t.searchParams.delete('errorCode');const c=Object.fromEntries(t.searchParams);t.hash&&new URLSearchParams(t.hash.replace(/^#/,'')).forEach((s,t)=>{c[t]=s});return{errorCode:o,params:c}}},1323,[]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.getCurrentTimeInSeconds=d,Object.defineProperty(_e,"TokenResponse",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"Request",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,"TokenRequest",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,"AccessTokenRequest",{enumerable:!0,get:function(){return k}}),Object.defineProperty(_e,"RefreshTokenRequest",{enumerable:!0,get:function(){return y}}),Object.defineProperty(_e,"RevokeTokenRequest",{enumerable:!0,get:function(){return T}}),_e.exchangeCodeAsync=function(e,t){return new k(e).performAsync(t)},_e.refreshAsync=function(e,t){return new y(e).performAsync(t)},_e.revokeAsync=function(e,t){return new T(e).performAsync(t)},_e.fetchUserInfoAsync=function(e,t){if(!t.userInfoEndpoint)throw new Error('User info endpoint is not defined in the service config discovery document');return(0,c.requestAsync)(t.userInfoEndpoint,{headers:{'Content-Type':'application/x-www-form-urlencoded',Authorization:`Bearer ${e.accessToken}`},dataType:'json',method:'GET'})};var e,t=r(_d[0]),s=(e=t)&&e.__esModule?e:{default:e};r(_d[1]);var n=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t})(r(_d[2])),o=r(_d[3]),c=r(_d[4]),h=r(_d[5]);function d(){return Math.floor(Date.now()/1e3)}class u{static isTokenFresh(e,t=-600){if(!e)return!1;if(e.expiresIn){return d()<e.issuedAt+e.expiresIn+t}return!0}static fromQueryParams(e){return new u({accessToken:e.access_token,refreshToken:e.refresh_token,scope:e.scope,state:e.state,idToken:e.id_token,tokenType:e.token_type,expiresIn:e.expires_in,issuedAt:e.issued_at})}constructor(e,t){this.rawResponse=t,this.accessToken=e.accessToken,this.tokenType=e.tokenType??'bearer',this.expiresIn=e.expiresIn,this.refreshToken=e.refreshToken,this.scope=e.scope,this.state=e.state,this.idToken=e.idToken,this.issuedAt=e.issuedAt??d()}applyResponseConfig(e){this.accessToken=e.accessToken??this.accessToken,this.tokenType=e.tokenType??this.tokenType??'bearer',this.expiresIn=e.expiresIn??this.expiresIn,this.refreshToken=e.refreshToken??this.refreshToken,this.scope=e.scope??this.scope,this.state=e.state??this.state,this.idToken=e.idToken??this.idToken,this.issuedAt=e.issuedAt??this.issuedAt??d()}getRequestConfig(){return{accessToken:this.accessToken,idToken:this.idToken,refreshToken:this.refreshToken,scope:this.scope,state:this.state,tokenType:this.tokenType,issuedAt:this.issuedAt,expiresIn:this.expiresIn}}async refreshAsync(e,t){const s=new y({...e,refreshToken:this.refreshToken}),n=await s.performAsync(t);n.refreshToken=n.refreshToken??this.refreshToken;const o=n.getRequestConfig();return this.applyResponseConfig(o),this}shouldRefresh(){return!(u.isTokenFresh(this)||!this.refreshToken)}}class p{constructor(e){this.request=e}async performAsync(e){throw new Error('performAsync must be extended')}getRequestConfig(){throw new Error('getRequestConfig must be extended')}getQueryBody(){throw new Error('getQueryBody must be extended')}}class f extends p{constructor(e,t){super(e),this.grantType=t,this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.extraParams=e.extraParams,this.scopes=e.scopes}getHeaders(){const e={'Content-Type':'application/x-www-form-urlencoded'};if(void 0!==this.clientSecret){const t=`${encodeURIComponent(this.clientId)}:${encodeURIComponent(this.clientSecret)}`,s=n.encodeNoWrap(t);e.Authorization=`Basic ${s}`}return e}async performAsync(e){(0,s.default)(e.tokenEndpoint,"Cannot invoke `performAsync()` without a valid tokenEndpoint");const t=await(0,c.requestAsync)(e.tokenEndpoint,{dataType:'json',method:'POST',headers:this.getHeaders(),body:this.getQueryBody()});if('error'in t)throw new o.TokenError(t);return new u({accessToken:t.access_token,tokenType:t.token_type,expiresIn:t.expires_in,refreshToken:t.refresh_token,scope:t.scope,idToken:t.id_token,issuedAt:t.issued_at},t)}getQueryBody(){const e={grant_type:this.grantType};if(this.clientSecret||(e.client_id=this.clientId),this.scopes&&(e.scope=this.scopes.join(' ')),this.extraParams)for(const t in this.extraParams)t in this.extraParams&&!(t in e)&&(e[t]=this.extraParams[t]);return e}}class k extends f{constructor(e){(0,s.default)(e.redirectUri,"`AccessTokenRequest` requires a valid `redirectUri` (it must also match the one used in the auth request). Example: https://yourwebsite.com/redirect"),(0,s.default)(e.code,"`AccessTokenRequest` requires a valid authorization `code`. This is what's received from the authorization server after an auth request."),super(e,h.GrantType.AuthorizationCode),this.code=e.code,this.redirectUri=e.redirectUri}getQueryBody(){const e=super.getQueryBody();return this.redirectUri&&(e.redirect_uri=this.redirectUri),this.code&&(e.code=this.code),e}getRequestConfig(){return{clientId:this.clientId,clientSecret:this.clientSecret,grantType:this.grantType,code:this.code,redirectUri:this.redirectUri,extraParams:this.extraParams,scopes:this.scopes}}}class y extends f{constructor(e){(0,s.default)(e.refreshToken,"`RefreshTokenRequest` requires a valid `refreshToken`."),super(e,h.GrantType.RefreshToken),this.refreshToken=e.refreshToken}getQueryBody(){const e=super.getQueryBody();return this.refreshToken&&(e.refresh_token=this.refreshToken),e}getRequestConfig(){return{clientId:this.clientId,clientSecret:this.clientSecret,grantType:this.grantType,refreshToken:this.refreshToken,extraParams:this.extraParams,scopes:this.scopes}}}class T extends p{constructor(e){super(e),(0,s.default)(e.token,"`RevokeTokenRequest` requires a valid `token` to revoke."),this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.token=e.token,this.tokenTypeHint=e.tokenTypeHint}getHeaders(){const e={'Content-Type':'application/x-www-form-urlencoded'};if(void 0!==this.clientSecret&&this.clientId){const t=`${encodeURIComponent(this.clientId)}:${encodeURIComponent(this.clientSecret)}`,s=n.encodeNoWrap(t);e.Authorization=`Basic ${s}`}return e}async performAsync(e){return(0,s.default)(e.revocationEndpoint,"Cannot invoke `performAsync()` without a valid revocationEndpoint"),await(0,c.requestAsync)(e.revocationEndpoint,{method:'POST',headers:this.getHeaders(),body:this.getQueryBody()}),!0}getRequestConfig(){return{clientId:this.clientId,clientSecret:this.clientSecret,token:this.token,tokenTypeHint:this.tokenTypeHint}}getQueryBody(){const e={token:this.token};return this.tokenTypeHint&&(e.token_type_hint=this.tokenTypeHint),this.clientId&&(e.client_id=this.clientId),this.clientSecret&&(e.client_secret=this.clientSecret),e}}},1324,[2290,741,1325,1321,1326,1327]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.encodeNoWrap=function(c){let o='',n=0;do{const h=c.charCodeAt(n++),i=c.charCodeAt(n++),s=c.charCodeAt(n++),A=h>>2,l=(3&h)<<4|i>>4;let u=(15&i)<<2|s>>6,N=63&s;isNaN(i)?(u=64,N=64):isNaN(s)&&(N=64),o=o+t.charAt(A)+t.charAt(l)+t.charAt(u)+t.charAt(N)}while(n<c.length);return o};const t='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='},1325,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.requestAsync=async function(t,o){const s=new URL(t),n={},c={body:void 0,method:o.method,mode:'cors',headers:n},i='json'===o.dataType?.toLowerCase();if(o.headers)for(const t in o.headers)t in o.headers&&(n[t]=o.headers[t]);if(o.body)if('POST'===o.method?.toUpperCase())c.body=new URLSearchParams(o.body).toString();else for(const t of Object.keys(o.body))s.searchParams.append(t,o.body[t]);!i||n.Accept||n.accept||(n.Accept='application/json, text/javascript; q=0.01');const p=s.toString().replace(/\/$/,''),h=await fetch(p,c),y=h.headers.get('content-type');if(i||y?.includes('application/json'))return h.json();return h.text()}},1326,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n,t;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"TokenTypeHint",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,"GrantType",{enumerable:!0,get:function(){return t}}),(function(n){n.AccessToken="access_token",n.RefreshToken="refresh_token"})(n||(n={})),(function(n){n.AuthorizationCode="authorization_code",n.Implicit="implicit",n.RefreshToken="refresh_token",n.ClientCredentials="client_credentials"})(t||(t={}))},1327,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.useAutoDiscovery=function(n){const[s,o]=(0,t.useState)(null);return(0,t.useEffect)(()=>{let t=!0;return(0,u.resolveDiscoveryAsync)(n).then(n=>{t&&o(n)}),()=>{t=!1}},[n]),s},e.useLoadedAuthRequest=s,e.useAuthRequestResult=c,e.useAuthRequest=function(t,u){const o=s(t,u,n.AuthRequest),[l,f]=c(o,u);return[o,l,f]};var t=r(d[0]),n=r(d[1]),u=r(d[2]);function s(n,u,s){const[c,l]=(0,t.useState)(null),f=n.scopes?.join(' '),h=o(n.prompt),p=(0,t.useMemo)(()=>JSON.stringify(n.extraParams||{}),[n.extraParams]);return(0,t.useEffect)(()=>{let t=!0;if(u){const o=new s(n);o.makeAuthUrlAsync(u).then(()=>{t&&l(o)})}return()=>{t=!1}},[u?.authorizationEndpoint,n.clientId,n.redirectUri,n.responseType,n.clientSecret,n.codeChallenge,n.state,n.usePKCE,f,h,p]),c}function o(t){if(t)return Array.isArray(t)?t.join(' '):t}function c(n,u,s={}){const[o,c]=(0,t.useState)(null),l=(0,t.useCallback)(async({windowFeatures:t={},...o}={})=>{if(!u||!n)throw new Error('Cannot prompt to authenticate until the request has finished loading.');const l={...s,...o,windowFeatures:{...s.windowFeatures??{},...t}},f=await(n?.promptAsync(u,l));return c(f),f},[n?.url,u?.authorizationEndpoint]);return[o,l]}},1328,[21,1319,1329]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.issuerWithWellKnownUrl=s,_e.fetchDiscoveryAsync=u,_e.resolveDiscoveryAsync=async function(n){if((0,o.default)(n&&!['number','boolean'].includes(typeof n),'Expected a valid discovery object or issuer URL'),'string'==typeof n)return await u(n);return n};var n,e=r(d[0]),o=(n=e)&&n.__esModule?n:{default:n},t=r(d[1]);function s(n){return`${n}/.well-known/openid-configuration`}async function u(n){const e=await(0,t.requestAsync)(s(n),{dataType:'json',method:'GET'});return{discoveryDocument:e,authorizationEndpoint:e.authorization_endpoint,tokenEndpoint:e.token_endpoint,revocationEndpoint:e.revocation_endpoint,userInfoEndpoint:e.userinfo_endpoint,endSessionEndpoint:e.end_session_endpoint,registrationEndpoint:e.registration_endpoint}}},1329,[2290,1326]);
__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.dismiss=function(){(0,n.dismissAuthSession)()},Object.defineProperty(_e,"getDefaultReturnUrl",{enumerable:!0,get:function(){return o}}),_e.getRedirectUrl=function(e){return c.default.getRedirectUrl({urlPath:e})},_e.makeRedirectUri=function({native:e,scheme:n,isTripleSlashed:u,queryParams:s,path:c,preferLocalhost:o}={}){const l=t.createURL(c||'',{isTripleSlashed:u,scheme:n,queryParams:s});if(o){const e=l.match(/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/);if(e?.length){const[t,n]=l.split(e[0]);return`${t}localhost${n}`}}return l},_e.loadAsync=async function(e,t){const n=new u.AuthRequest(e),c=await(0,s.resolveDiscoveryAsync)(t);return await n.makeAuthUrlAsync(c),n};e(r(_d[0]));var t=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var u=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,u.get?u:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[1]));r(_d[2]);var n=r(_d[3]),u=r(_d[4]),s=r(_d[5]),c=e(r(_d[6]));const o=c.default.getDefaultReturnUrl},1330,[592,620,223,1312,1319,1329,1331]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"default",{enumerable:!0,get:function(){return u}}),Object.defineProperty(_e,"SessionUrlProvider",{enumerable:!0,get:function(){return l}});var e,t=r(_d[0]),n=(e=t)&&e.__esModule?e:{default:e},o=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[1])),s=r(_d[2]);class l{static BASE_URL="https://auth.expo.io";static SESSION_PATH='expo-auth-session';getDefaultReturnUrl(e,t){const n=l.getHostAddressQueryParams();let s=l.SESSION_PATH;return e&&(s=[s,l.removeLeadingSlash(e)].filter(Boolean).join('/')),o.createURL(s,{scheme:t?.scheme??o.resolveScheme({isSilent:!0}),queryParams:n,isTripleSlashed:t?.isTripleSlashed})}getStartUrl(e,t,n){if(!s.Platform.isDOMAvailable)return'';const o=new URLSearchParams({authUrl:e,returnUrl:t});return`${this.getRedirectUrl({projectNameForProxy:n})}/start?${o}`}getRedirectUrl(e){return s.Platform.isDOMAvailable?[window.location.origin,e.urlPath].filter(Boolean).join('/'):''}static getHostAddressQueryParams(){let e=n.default.expoConfig?.hostUri;if(e||t.ExecutionEnvironment.StoreClient!==n.default.executionEnvironment&&!o.resolveScheme({})||(e=n.default.linkingUri?l.removeScheme(n.default.linkingUri).replace(/\/--(\/.*)?$/,''):''),!e)return;const s=e?.split('?');try{return Object.fromEntries(new URLSearchParams(s?.[1]))}catch{}}static warnIfAnonymous(e,t){e.startsWith('@anonymous/')&&console.warn(`You are not currently signed in to Expo on your development machine. As a result, the redirect URL for AuthSession will be "${t}". If you are using an OAuth provider that requires adding redirect URLs to an allow list, we recommend that you do not add this URL -- instead, you should sign in to Expo to acquire a unique redirect URL. Additionally, if you do decide to publish this app using Expo, you will need to register an account to do it.`)}static removeScheme(e){return e.replace(/^[a-zA-Z0-9+.-]+:\/\//,'')}static removeLeadingSlash(e){return e.replace(/^\//,'')}}var u=new l},1331,[592,620,223]);
__d(function(g,r,i,a,m,e,d){},1332,[]);
__d(function(g,r,i,a,m,e,d){},1333,[]);